<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" ><generator uri="https://jekyllrb.com/" version="3.4.3">Jekyll</generator><link href="https://adamatti.github.io/blog/blog/feed.xml" rel="self" type="application/atom+xml" /><link href="https://adamatti.github.io/blog/blog/" rel="alternate" type="text/html" /><updated>2017-06-05T01:06:15+00:00</updated><id>https://adamatti.github.io/blog/blog/</id><title type="html">Adamatti - blog pessoal</title><subtitle>Espaço para compartilhar conhecimento, minhas opiniões, notícias que eu considero relevante.
</subtitle><entry><title type="html">O básico sobre heroku</title><link href="https://adamatti.github.io/blog/blog/git/2017/06/04/heroku.html" rel="alternate" type="text/html" title="O básico sobre heroku" /><published>2017-06-04T16:00:00+00:00</published><updated>2017-06-04T16:00:00+00:00</updated><id>https://adamatti.github.io/blog/blog/git/2017/06/04/heroku</id><content type="html" xml:base="https://adamatti.github.io/blog/blog/git/2017/06/04/heroku.html">&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Heroku é um &lt;a href=&quot;https://pt.wikipedia.org/wiki/Plataforma_como_servi%C3%A7o&quot;&gt;PaaS&lt;/a&gt;, Plataforma como serviço. Isso significa que você pode fazer &lt;em&gt;deploy&lt;/em&gt; de seus serviços sem se preocupar (ao menos inicialmente) com &lt;em&gt;configs&lt;/em&gt; de &lt;em&gt;hardware&lt;/em&gt; e sistema operacional.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Você só precisa se focar na aplicação e nos componentes de infra estrutura necessários (ex: banco de dados, cache, log, filas, etc)&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;quoteblock&quot;&gt;
&lt;blockquote&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Não é necessário conhecimento em docker&lt;/p&gt;
&lt;/div&gt;
&lt;/blockquote&gt;
&lt;/div&gt;
&lt;div class=&quot;sect2&quot;&gt;
&lt;h3 id=&quot;criando-uma-conta&quot;&gt;Criando uma conta&lt;/h3&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;O processo é bem simples. Antigamente precisava de cartão de crédito, hj só precisa de nome/sobrenome/email/empresa e confirmar o email.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;O &lt;a href=&quot;https://www.heroku.com/pricing&quot;&gt;plano free&lt;/a&gt; é limitado, mas ao mesmo tempo poderoso: ele permite criar quantas apps forem necessário, mas só uma pode rodar 24x7. O &lt;em&gt;default&lt;/em&gt; é a aplicação desligar depois de 30 min sem acesso.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;sect2&quot;&gt;
&lt;h3 id=&quot;criando-uma-aplicação-fazendo-deploy&quot;&gt;Criando uma aplicação, fazendo deploy&lt;/h3&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Para criar uma &lt;a href=&quot;https://dashboard.heroku.com/new-app&quot;&gt;nova app&lt;/a&gt;, a única informação requerida é a região (US or EU). O nome da aplicação é opcional (se não informar o heroku gera um nome aleatório).&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Sobre &lt;a href=&quot;https://devcenter.heroku.com/categories/language-support&quot;&gt;linguagens&lt;/a&gt;, o Heroku suporta Ruby, Python, Node, Php, Go, Java (e outras linguagens da JVM como scala / clojure / groovy). Mas é possível usar buildpacks de terceiros para outras linguagens, como &lt;a href=&quot;https://github.com/HashNuke/heroku-buildpack-elixir&quot;&gt;elixir&lt;/a&gt;, &lt;a href=&quot;https://github.com/AdmitHub/meteor-buildpack-horse&quot;&gt;meteor&lt;/a&gt;, etc&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;sect2&quot;&gt;
&lt;h3 id=&quot;fazendo-deploy&quot;&gt;Fazendo deploy&lt;/h3&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;É possível fazer &lt;em&gt;deploy&lt;/em&gt; no heroku de várias formas, sendo as mais simples usar a ferramenta do heroku (heroku-cli), usar git ou dropbox.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Por exemplo, para fazer deploy de uma &lt;a href=&quot;https://github.com/heroku/node-hello&quot;&gt;aplicação de exemplo em node&lt;/a&gt; usando terminal:&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;listingblock&quot;&gt;
&lt;div class=&quot;content&quot;&gt;
&lt;pre class=&quot;pygments highlight&quot;&gt;&lt;code data-lang=&quot;bash&quot;&gt;&lt;span class=&quot;tok-c1&quot;&gt;# autenticar no heroku&lt;/span&gt;
heroku login
&lt;span class=&quot;tok-c1&quot;&gt;#baixando código de exemplo e entrando na pasta&lt;/span&gt;
git clone https://github.com/heroku/sushi-inc.git
&lt;span class=&quot;tok-nb&quot;&gt;cd&lt;/span&gt; sushi-inc
&lt;span class=&quot;tok-c1&quot;&gt;# criando vinculo git com heroku&lt;/span&gt;
heroku git:remote -a nomeDaAppCriada
&lt;span class=&quot;tok-c1&quot;&gt;# fazendo deploy usando git push&lt;/span&gt;
git push heroku&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Agora você pode acessar a aplicação usando &lt;a href=&quot;http://nomeDaAppCriada.herokuapp.com&quot; class=&quot;bare&quot;&gt;http://nomeDaAppCriada.herokuapp.com&lt;/a&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;PS: caso tenha problema para executar a app, mude o package.json com:&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;listingblock&quot;&gt;
&lt;div class=&quot;content&quot;&gt;
&lt;pre class=&quot;pygments highlight&quot;&gt;&lt;code data-lang=&quot;javascript&quot;&gt;&lt;span class=&quot;tok-p&quot;&gt;...&lt;/span&gt;
&lt;span class=&quot;tok-s2&quot;&gt;&amp;quot;scripts&amp;quot;&lt;/span&gt;&lt;span class=&quot;tok-o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;tok-p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;tok-s2&quot;&gt;&amp;quot;start&amp;quot;&lt;/span&gt; &lt;span class=&quot;tok-o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;tok-s2&quot;&gt;&amp;quot;node index.js&amp;quot;&lt;/span&gt;
&lt;span class=&quot;tok-p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;tok-p&quot;&gt;...&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;&lt;strong&gt;Pontos importantes:&lt;/strong&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;ulist&quot;&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Heroku faz cache do framework de execução (ex: versão do node / java). Por exemplo, para mudar a versão do node a ser usado é só mudar a sessão &lt;em&gt;engines&lt;/em&gt; no package.json.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Ele tbm faz cache das dependências. Se o descritor não for alterado ele não precisa baixar as dependências novamente (ex: node_modules, bower_components)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Heroku já fornece https. Você só precisa alterar sua app para forçar esse uso (se necessário)&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;sect2&quot;&gt;
&lt;h3 id=&quot;add-ons&quot;&gt;Add Ons&lt;/h3&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Ok, mas como estender minha aplicação no heroku? Bom, o Heroku tem parceria com &lt;a href=&quot;https://elements.heroku.com/addons&quot;&gt;~150 serviços&lt;/a&gt;. Eles podem ser adicionados na aba &lt;em&gt;resources&lt;/em&gt; dentro da app desejada.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;ulist&quot;&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Precisa de até 500mb de mongo? De graça na &lt;a href=&quot;https://elements.heroku.com/addons/mongolab&quot;&gt;mLabs&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Cache? 30 mb de graça na &lt;a href=&quot;https://elements.heroku.com/addons/rediscloud&quot;&gt;redis cloud&lt;/a&gt;. E dá para plugar um &lt;a href=&quot;https://elements.heroku.com/addons/redismonitor&quot;&gt;monitor&lt;/a&gt; tbm.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Logs? &lt;a href=&quot;https://elements.heroku.com/addons/logentries&quot;&gt;Log Entries&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Monitoramento? &lt;a href=&quot;https://elements.heroku.com/addons/newrelic&quot;&gt;NewRelic&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Importante salientar que o Heroku é criador do padrão &lt;a href=&quot;https://12factor.net/pt_br&quot;&gt;The Twelve-Factor&lt;/a&gt;, logo, os addons estarão disponíveis através de &lt;a href=&quot;https://12factor.net/pt_br/config&quot;&gt;variáveis de ambiente&lt;/a&gt;. Por exemplo, para usar um banco da mLabs a app precisa pegar a URL da variável MONGOLAB_URI.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;&lt;strong&gt;Você vai precisar informar o cartão de crédito para adicionar addons (mesmo escolhendo os gratuítos)&lt;/strong&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;sect2&quot;&gt;
&lt;h3 id=&quot;próximos-passos&quot;&gt;Próximos passos&lt;/h3&gt;
&lt;div class=&quot;ulist&quot;&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Você pode fazer alguns &lt;em&gt;deploys&lt;/em&gt; no Heroku e desfazer pelo painel de admin. É muito prático fazer um &lt;em&gt;rollback&lt;/em&gt;;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&quot;https://devcenter.heroku.com/articles/pipelines&quot;&gt;Pipelines&lt;/a&gt;: você pode ter a versão dev/test/prod de uma app conectadas, e só precisa fazer &lt;em&gt;deploy&lt;/em&gt; de código para o primeiro passo. As promoções de ambiente podem ser feita pelo painel admin do heroku;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Estudar o &lt;a href=&quot;https://devcenter.heroku.com/articles/heroku-cli&quot;&gt;Heroku cli&lt;/a&gt;, para ver logs, conectar na app por ssh, etc;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Disponibilizar uma app com o &lt;a href=&quot;https://developer.salesforce.com/blogs/developer-relations/2014/08/heroku-button-anyone-can-deploy-your-app.html&quot;&gt;botão do Heroku&lt;/a&gt;. O &lt;a href=&quot;https://github.com/RocketChat/Rocket.Chat#heroku&quot;&gt;Rocket.Chat&lt;/a&gt; oferece essa feature. A &lt;a href=&quot;https://github.com/adamatti/Wiki/blob/master/README.md&quot;&gt;wiki&lt;/a&gt; q eu criei de exemplo tbm;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Fazer deploy de suas &lt;em&gt;pet apps&lt;/em&gt; para lá. Eu tenho umas 20 apps lá, para busca de carros / imóveis (&lt;a href=&quot;https://pt.wikipedia.org/wiki/Screen_scraping&quot;&gt;Screen Scraper&lt;/a&gt;), bot, wiki, controle de tasks, leitor do twitter, &lt;em&gt;fake apis&lt;/em&gt; (para teste), etc&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Usar Heroku &lt;em&gt;on premise&lt;/em&gt; com o &lt;a href=&quot;https://github.com/dokku/dokku&quot;&gt;dokku&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;sect2&quot;&gt;
&lt;h3 id=&quot;referencias&quot;&gt;Referencias&lt;/h3&gt;
&lt;div class=&quot;ulist&quot;&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&quot;/blog/git/2017/05/31/git.html&quot;&gt;O básico sobre git&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&quot;https://12factor.net/pt_br&quot;&gt;The Twelve-Factor App&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;</content><author><name></name></author><category term="heroku" /><category term="git" /><summary type="html">Heroku é um PaaS, Plataforma como serviço. Isso significa que você pode fazer deploy de seus serviços sem se preocupar (ao menos inicialmente) com configs de hardware e sistema operacional.</summary></entry><entry><title type="html">O básico sobre git</title><link href="https://adamatti.github.io/blog/blog/git/2017/05/31/git.html" rel="alternate" type="text/html" title="O básico sobre git" /><published>2017-05-31T16:00:00+00:00</published><updated>2017-05-31T16:00:00+00:00</updated><id>https://adamatti.github.io/blog/blog/git/2017/05/31/git</id><content type="html" xml:base="https://adamatti.github.io/blog/blog/git/2017/05/31/git.html">&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Dado que algumas pessoas pessoas ainda enfrentam problemas com git, decidi escrever um post de 5 min sobre o tema para dar uma luz para o pessoal.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;quoteblock&quot;&gt;
&lt;blockquote&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;&quot;Não, o git não é só um shell especial para windows&quot;&lt;br&gt;
&quot;Sim, git e github são coisas diferentes&quot;&lt;/p&gt;
&lt;/div&gt;
&lt;/blockquote&gt;
&lt;/div&gt;
&lt;div class=&quot;sect2&quot;&gt;
&lt;h3 id=&quot;histórico-comparativos&quot;&gt;Histórico / Comparativos&lt;/h3&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Segundo a &lt;a href=&quot;https://pt.wikipedia.org/wiki/Git&quot;&gt;Wikipedia&lt;/a&gt;, &quot;Git foi criado pelo &lt;a href=&quot;https://pt.wikipedia.org/wiki/Linus_Torvalds&quot;&gt;Linus Torvald&lt;/a&gt; para o desenvolvimento do &lt;a href=&quot;https://pt.wikipedia.org/wiki/Linux_(n%C3%BAcleo)&quot;&gt;kernel do linux&lt;/a&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;A grande sacada do git é que ele é um modelo de repositório distribuido. Diferente do &lt;a href=&quot;https://www.visualstudio.com/tfs&quot;&gt;TFS&lt;/a&gt; que é um modelo centrado no servidor - onde se o servidor está fora ninguem consegue alterar código pq geralmente os plugins precisam sinalizar o lock do arquivo no servidor  - com git você consegue fazer acompanhamento de alterações sem um servidor mestre. Ex:&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;listingblock&quot;&gt;
&lt;div class=&quot;content&quot;&gt;
&lt;pre class=&quot;pygments highlight&quot;&gt;&lt;code data-lang=&quot;bash&quot;&gt;&lt;span class=&quot;tok-c1&quot;&gt;# vai para a pasta temporária&lt;/span&gt;
&lt;span class=&quot;tok-nb&quot;&gt;cd&lt;/span&gt; /tmp
&lt;span class=&quot;tok-c1&quot;&gt;# cria uma pasta fake de projeto&lt;/span&gt;
mkdir app
&lt;span class=&quot;tok-nb&quot;&gt;cd&lt;/span&gt; app
&lt;span class=&quot;tok-c1&quot;&gt;# inicia um repositório&lt;/span&gt;
git init
&lt;span class=&quot;tok-c1&quot;&gt;# cria um arquivo qualquer&lt;/span&gt;
&lt;span class=&quot;tok-nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;tok-s2&quot;&gt;&amp;quot;meu arquivo de teste&amp;quot;&lt;/span&gt; &amp;gt; teste.txt
&lt;span class=&quot;tok-c1&quot;&gt;# Marca a alteração na área &amp;quot;stage&amp;quot; do git&lt;/span&gt;
git add teste.txt
&lt;span class=&quot;tok-c1&quot;&gt;# Adiciona ela ao repositório&lt;/span&gt;
git commit -m &lt;span class=&quot;tok-s2&quot;&gt;&amp;quot;Arquivo adicionado ao repositório&amp;quot;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;E com isso você criou um repositório local, sem precisar de servidor. Dá para criar &lt;em&gt;branches&lt;/em&gt;, fazer &lt;em&gt;merges&lt;/em&gt;, etc e essas tarefas são executadas primeiramente local, só são publicadas para o repositório remoto quando requisitado (ex: usando &lt;code&gt;git push&lt;/code&gt;)&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;sect2&quot;&gt;
&lt;h3 id=&quot;comandos-básicos&quot;&gt;Comandos básicos&lt;/h3&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Usar o git por linha de comando ou usando alguma ferramenta visual é preferencia de cada desenvolvedor, mas eu particularmente acho mais produtivo usar git por linha de comando. Dentre os comandos mais usados:&lt;/p&gt;
&lt;/div&gt;
&lt;table class=&quot;tableblock frame-all grid-all spread&quot;&gt;
&lt;colgroup&gt;
&lt;col style=&quot;width: 50%;&quot;&gt;
&lt;col style=&quot;width: 50%;&quot;&gt;
&lt;/colgroup&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td class=&quot;tableblock halign-left valign-top&quot;&gt;&lt;p class=&quot;tableblock&quot;&gt;git init&lt;/p&gt;&lt;/td&gt;
&lt;td class=&quot;tableblock halign-left valign-top&quot;&gt;&lt;p class=&quot;tableblock&quot;&gt;inicia um repositório git. Só precisa ser executado 1x por repositório&lt;/p&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&quot;tableblock halign-left valign-top&quot;&gt;&lt;p class=&quot;tableblock&quot;&gt;git add nomeDoArquivoOuPasta&lt;/p&gt;&lt;/td&gt;
&lt;td class=&quot;tableblock halign-left valign-top&quot;&gt;&lt;p class=&quot;tableblock&quot;&gt;marcar o arquivo/pasta alterado a ser persistido&lt;/p&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&quot;tableblock halign-left valign-top&quot;&gt;&lt;p class=&quot;tableblock&quot;&gt;git commit -m mensagem&lt;/p&gt;&lt;/td&gt;
&lt;td class=&quot;tableblock halign-left valign-top&quot;&gt;&lt;p class=&quot;tableblock&quot;&gt;efetua a alteração no repositório&lt;/p&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&quot;tableblock halign-left valign-top&quot;&gt;&lt;p class=&quot;tableblock&quot;&gt;git branch&lt;/p&gt;&lt;/td&gt;
&lt;td class=&quot;tableblock halign-left valign-top&quot;&gt;&lt;p class=&quot;tableblock&quot;&gt;mostra os branches e o &lt;em&gt;branch&lt;/em&gt; atual&lt;/p&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&quot;tableblock halign-left valign-top&quot;&gt;&lt;p class=&quot;tableblock&quot;&gt;git status -s&lt;/p&gt;&lt;/td&gt;
&lt;td class=&quot;tableblock halign-left valign-top&quot;&gt;&lt;p class=&quot;tableblock&quot;&gt;mostra o status das alterações (ex: arquivos marcados / alterados / excluidos)&lt;/p&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&quot;tableblock halign-left valign-top&quot;&gt;&lt;p class=&quot;tableblock&quot;&gt;git remote -v&lt;/p&gt;&lt;/td&gt;
&lt;td class=&quot;tableblock halign-left valign-top&quot;&gt;&lt;p class=&quot;tableblock&quot;&gt;mostra lista de repositórios remotos&lt;/p&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&quot;tableblock halign-left valign-top&quot;&gt;&lt;p class=&quot;tableblock&quot;&gt;git remote add apelido urlDoRepositorio&lt;/p&gt;&lt;/td&gt;
&lt;td class=&quot;tableblock halign-left valign-top&quot;&gt;&lt;p class=&quot;tableblock&quot;&gt;Cria um link para um repositório remoto. Necessário para subir o código para Github, Bitbucket, Heroku&lt;/p&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&quot;tableblock halign-left valign-top&quot;&gt;&lt;p class=&quot;tableblock&quot;&gt;git push&lt;/p&gt;&lt;/td&gt;
&lt;td class=&quot;tableblock halign-left valign-top&quot;&gt;&lt;p class=&quot;tableblock&quot;&gt;&quot;empurra&quot; as alterações locais para repositório remoto&lt;/p&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&quot;tableblock halign-left valign-top&quot;&gt;&lt;p class=&quot;tableblock&quot;&gt;git pull&lt;/p&gt;&lt;/td&gt;
&lt;td class=&quot;tableblock halign-left valign-top&quot;&gt;&lt;p class=&quot;tableblock&quot;&gt;baixa atualizações do repositório remoto&lt;/p&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;div class=&quot;sect2&quot;&gt;
&lt;h3 id=&quot;boas-práticas&quot;&gt;Boas práticas&lt;/h3&gt;
&lt;div class=&quot;ulist&quot;&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Fazer &lt;em&gt;commits&lt;/em&gt; pequenos e frequentes&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Usar informações úteis nos &lt;em&gt;commits&lt;/em&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Estudar outros modelos (ex: &lt;em&gt;trunk base development&lt;/em&gt;, &lt;a href=&quot;http://nvie.com/posts/a-successful-git-branching-model/&quot;&gt;git flow&lt;/a&gt;)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Não demorar para fazer &lt;em&gt;merge&lt;/em&gt; de &lt;em&gt;feature branches&lt;/em&gt; para o &lt;em&gt;future state&lt;/em&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Usar git rebase&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Ter um plano de &lt;em&gt;CI&lt;/em&gt; que faça build+testes de todos os branches. Isso ajuda no &lt;em&gt;code review&lt;/em&gt; e verificações para não impactar o &lt;em&gt;branch&lt;/em&gt; principal&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;sect2&quot;&gt;
&lt;h3 id=&quot;aplicativos&quot;&gt;Aplicativos&lt;/h3&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Algumas sugestões para ver a arvore de alterações de modo gráfica:&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;ulist&quot;&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;gitk&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&quot;https://www.gitkraken.com&quot;&gt;GitKraken&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&quot;https://www.jetbrains.com/help/idea/2017.1/managing-changelists.html&quot;&gt;Intellij Idea ChangeList&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;sect2&quot;&gt;
&lt;h3 id=&quot;próximos-passos&quot;&gt;Próximos passos&lt;/h3&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Fazer &lt;em&gt;track&lt;/em&gt; de projetos ou notas na máquina local? Publicar um projeto para o github ou bitbucket? Fazer deploy de uma aplicação para o heroku? Contribuir com um projeto &lt;em&gt;open source&lt;/em&gt;? As possibilidades são infinitas.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;sect2&quot;&gt;
&lt;h3 id=&quot;referencias&quot;&gt;Referencias&lt;/h3&gt;
&lt;div class=&quot;ulist&quot;&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&quot;https://pt.wikipedia.org/wiki/Git&quot;&gt;Wikipedia&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&quot;https://www.javacodegeeks.com/2013/05/git-explained-for-beginners.html&quot;&gt;Git explained for beginners&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&quot;http://rogerdudler.github.io/git-guide&quot;&gt;Complete guide&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&quot;https://www.alexkras.com/19-git-tips-for-everyday-use&quot;&gt;19 Tips for Everyday use&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;</content><author><name></name></author><category term="git" /><summary type="html">Dado que algumas pessoas pessoas ainda enfrentam problemas com git, decidi escrever um post de 5 min sobre o tema para dar uma luz para o pessoal.</summary></entry><entry><title type="html">Criando um chatbot</title><link href="https://adamatti.github.io/blog/blog/node/2017/05/20/hubot.html" rel="alternate" type="text/html" title="Criando um chatbot" /><published>2017-05-20T16:00:00+00:00</published><updated>2017-05-20T16:00:00+00:00</updated><id>https://adamatti.github.io/blog/blog/node/2017/05/20/hubot</id><content type="html" xml:base="https://adamatti.github.io/blog/blog/node/2017/05/20/hubot.html">&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;https://pt.wikipedia.org/wiki/Wikip%C3%A9dia:Muito_longo;_n%C3%A3o_li&quot;&gt;TL/DR&lt;/a&gt;&lt;/strong&gt; : Hubot é legal e bem simples :-)&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Bem simples o processo de criação de bots usando o hubot seguindo &lt;a href=&quot;https://hubot.github.com/docs/&quot;&gt;tutorial deles&lt;/a&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;sect2&quot;&gt;
&lt;h3 id=&quot;requisitos&quot;&gt;Requisitos&lt;/h3&gt;
&lt;div class=&quot;ulist&quot;&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Ter &lt;a href=&quot;https://nodejs.org&quot;&gt;node&lt;/a&gt; instalado&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&quot;https://www.docker.com/&quot;&gt;Docker&lt;/a&gt; / &lt;a href=&quot;https://docs.docker.com/compose/&quot;&gt;Docker Compose&lt;/a&gt; (facilita os testes)&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;sect2&quot;&gt;
&lt;h3 id=&quot;passos&quot;&gt;Passos&lt;/h3&gt;
&lt;div class=&quot;ulist&quot;&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Instalar o &lt;a href=&quot;http://yeoman.io/&quot;&gt;yeoman&lt;/a&gt; (gerador de código) e generator-hubot: &lt;code&gt;npm install -g yo generator-hubot&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ir na pasta desejada, rodar &lt;code&gt;yo nomeDoBot&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Com isso o &lt;a href=&quot;http://yeoman.io/&quot;&gt;yeoman&lt;/a&gt; vai gerar os seguintes arquivos (&lt;a href=&quot;https://github.com/adamatti/LearnHubot/commit/b2178220ccc994685f0862d105aa2b78f3a07a1c&quot;&gt;ver resultado no github&lt;/a&gt;):&lt;/p&gt;
&lt;/div&gt;
&lt;table class=&quot;tableblock frame-all grid-all spread&quot;&gt;
&lt;colgroup&gt;
&lt;col style=&quot;width: 50%;&quot;&gt;
&lt;col style=&quot;width: 50%;&quot;&gt;
&lt;/colgroup&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td class=&quot;tableblock halign-left valign-top&quot;&gt;&lt;p class=&quot;tableblock&quot;&gt;.editorconfig&lt;/p&gt;&lt;/td&gt;
&lt;td class=&quot;tableblock halign-left valign-top&quot;&gt;&lt;p class=&quot;tableblock&quot;&gt;Descreve formato dos outros arquivos (ex: identação, charset). Vários editores suportam esse formato (ver a página do &lt;a href=&quot;http://editorconfig.org/&quot;&gt;editorConfig&lt;/a&gt;)&lt;/p&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&quot;tableblock halign-left valign-top&quot;&gt;&lt;p class=&quot;tableblock&quot;&gt;.gitignore&lt;/p&gt;&lt;/td&gt;
&lt;td class=&quot;tableblock halign-left valign-top&quot;&gt;&lt;p class=&quot;tableblock&quot;&gt;Descritor de arquivos a não ser incluídos no repositório&lt;/p&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&quot;tableblock halign-left valign-top&quot;&gt;&lt;p class=&quot;tableblock&quot;&gt;Procfile&lt;/p&gt;&lt;/td&gt;
&lt;td class=&quot;tableblock halign-left valign-top&quot;&gt;&lt;p class=&quot;tableblock&quot;&gt;Tem o comando que vai ser executado no &lt;a href=&quot;https://heroku.com/&quot;&gt;heroku&lt;/a&gt; (se decidir fazer deploy lá)&lt;/p&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&quot;tableblock halign-left valign-top&quot;&gt;&lt;p class=&quot;tableblock&quot;&gt;Readme.md&lt;/p&gt;&lt;/td&gt;
&lt;td class=&quot;tableblock halign-left valign-top&quot;&gt;&lt;p class=&quot;tableblock&quot;&gt;Documentação básica. Pode ser removido&lt;/p&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&quot;tableblock halign-left valign-top&quot;&gt;&lt;p class=&quot;tableblock&quot;&gt;pasta bin&lt;/p&gt;&lt;/td&gt;
&lt;td class=&quot;tableblock halign-left valign-top&quot;&gt;&lt;p class=&quot;tableblock&quot;&gt;script para rodar o bot&lt;/p&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&quot;tableblock halign-left valign-top&quot;&gt;&lt;p class=&quot;tableblock&quot;&gt;external-scripts.json&lt;/p&gt;&lt;/td&gt;
&lt;td class=&quot;tableblock halign-left valign-top&quot;&gt;&lt;p class=&quot;tableblock&quot;&gt;Outros scripts a serem carregados pelo hubot&lt;/p&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&quot;tableblock halign-left valign-top&quot;&gt;&lt;p class=&quot;tableblock&quot;&gt;hubot-scripts.json&lt;/p&gt;&lt;/td&gt;
&lt;td class=&quot;tableblock halign-left valign-top&quot;&gt;&lt;p class=&quot;tableblock&quot;&gt;Antes os script do hubot deveriam ser colocados aqui, agora só precisam estar na pasta script&lt;/p&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&quot;tableblock halign-left valign-top&quot;&gt;&lt;p class=&quot;tableblock&quot;&gt;package.json&lt;/p&gt;&lt;/td&gt;
&lt;td class=&quot;tableblock halign-left valign-top&quot;&gt;&lt;p class=&quot;tableblock&quot;&gt;Descritor de projeto node (dependências, etc)&lt;/p&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&quot;tableblock halign-left valign-top&quot;&gt;&lt;p class=&quot;tableblock&quot;&gt;scripts/example.coffee&lt;/p&gt;&lt;/td&gt;
&lt;td class=&quot;tableblock halign-left valign-top&quot;&gt;&lt;p class=&quot;tableblock&quot;&gt;Exemplo de script para o bot em &lt;a href=&quot;http://coffeescript.org/&quot;&gt;coffee script&lt;/a&gt;&lt;/p&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Agora é só iniciar o redis (instale ele na máquina local ou &lt;code&gt;docker run redis -p 6379&lt;/code&gt;).&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;E com o Redis rodando, executar o bot: &lt;code&gt;bin/hubot.cmd&lt;/code&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Com isso já dá para interagir com o bot. Exemplo: digite &lt;code&gt;nomeDoBot help&lt;/code&gt; para ver comandos disponíveis.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;sect2&quot;&gt;
&lt;h3 id=&quot;criando-o-primeiro-script&quot;&gt;Criando o primeiro script&lt;/h3&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Criei &lt;a href=&quot;https://raw.githubusercontent.com/adamatti/LearnHubot/master/scripts/adamatti.js&quot;&gt;um exemplo de script bem simples&lt;/a&gt; e zueiro para mostrar a sintaxe:&lt;/p&gt;
&lt;/div&gt;
&lt;table class=&quot;tableblock frame-all grid-all spread&quot;&gt;
&lt;colgroup&gt;
&lt;col style=&quot;width: 33.3333%;&quot;&gt;
&lt;col style=&quot;width: 33.3333%;&quot;&gt;
&lt;col style=&quot;width: 33.3334%;&quot;&gt;
&lt;/colgroup&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th class=&quot;tableblock halign-left valign-top&quot;&gt;Gatilho&lt;/th&gt;
&lt;th class=&quot;tableblock halign-left valign-top&quot;&gt;Sintaxe&lt;/th&gt;
&lt;th class=&quot;tableblock halign-left valign-top&quot;&gt;Descrição&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td class=&quot;tableblock halign-left valign-top&quot;&gt;&lt;p class=&quot;tableblock&quot;&gt;@nomeDoBot is it weekend?&lt;/p&gt;&lt;/td&gt;
&lt;td class=&quot;tableblock halign-left valign-top&quot;&gt;&lt;p class=&quot;tableblock&quot;&gt;&lt;code&gt;robot.respond(/is it (weekend)\s?\?/i, msg &amp;#8658; {&lt;/code&gt;&lt;/p&gt;&lt;/td&gt;
&lt;td class=&quot;tableblock halign-left valign-top&quot;&gt;&lt;p class=&quot;tableblock&quot;&gt;Retorna se é fim de semana&lt;/p&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&quot;tableblock halign-left valign-top&quot;&gt;&lt;p class=&quot;tableblock&quot;&gt;lima (em qq parte da frase)&lt;/p&gt;&lt;/td&gt;
&lt;td class=&quot;tableblock halign-left valign-top&quot;&gt;&lt;p class=&quot;tableblock&quot;&gt;&lt;code&gt;robot.hear(/lima/i, res &amp;#8658; {&lt;/code&gt;&lt;/p&gt;&lt;/td&gt;
&lt;td class=&quot;tableblock halign-left valign-top&quot;&gt;&lt;p class=&quot;tableblock&quot;&gt;Retorna para o user q mandou o texto uma frase fixa&lt;/p&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&quot;tableblock halign-left valign-top&quot;&gt;&lt;p class=&quot;tableblock&quot;&gt;uma música&lt;/p&gt;&lt;/td&gt;
&lt;td class=&quot;tableblock halign-left valign-top&quot;&gt;&lt;p class=&quot;tableblock&quot;&gt;&lt;code&gt;robot.hear(/uma música/i, res &amp;#8658;{&lt;/code&gt;&lt;/p&gt;&lt;/td&gt;
&lt;td class=&quot;tableblock halign-left valign-top&quot;&gt;&lt;p class=&quot;tableblock&quot;&gt;Retorna para a sala uma música aleatória&lt;/p&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&quot;tableblock halign-left valign-top&quot;&gt;&lt;p class=&quot;tableblock&quot;&gt;ao entrar na sala&lt;/p&gt;&lt;/td&gt;
&lt;td class=&quot;tableblock halign-left valign-top&quot;&gt;&lt;p class=&quot;tableblock&quot;&gt;&lt;code&gt;robot.enter(res &amp;#8658; {&lt;/code&gt;&lt;/p&gt;&lt;/td&gt;
&lt;td class=&quot;tableblock halign-left valign-top&quot;&gt;&lt;p class=&quot;tableblock&quot;&gt;Retorna uma frase fixa&lt;/p&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&quot;tableblock halign-left valign-top&quot;&gt;&lt;p class=&quot;tableblock&quot;&gt;ao sair da sala&lt;/p&gt;&lt;/td&gt;
&lt;td class=&quot;tableblock halign-left valign-top&quot;&gt;&lt;p class=&quot;tableblock&quot;&gt;&lt;code&gt;robot.leave(res &amp;#8658; {&lt;/code&gt;&lt;/p&gt;&lt;/td&gt;
&lt;td class=&quot;tableblock halign-left valign-top&quot;&gt;&lt;p class=&quot;tableblock&quot;&gt;Retorna uma frase fixa&lt;/p&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&quot;tableblock halign-left valign-top&quot;&gt;&lt;p class=&quot;tableblock&quot;&gt;qq texto&lt;/p&gt;&lt;/td&gt;
&lt;td class=&quot;tableblock halign-left valign-top&quot;&gt;&lt;p class=&quot;tableblock&quot;&gt;&lt;code&gt;robot.listen(message &amp;#8658; {&lt;/code&gt;&lt;/p&gt;&lt;/td&gt;
&lt;td class=&quot;tableblock halign-left valign-top&quot;&gt;&lt;p class=&quot;tableblock&quot;&gt;Randomicamente 20% das vezes vai retornar uma frase fixa.&lt;/p&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;div class=&quot;sect2&quot;&gt;
&lt;h3 id=&quot;para-um-teste-completo&quot;&gt;Para um teste completo&lt;/h3&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Para fazer o bot iteragir com um chat, criei um arquivo &lt;a href=&quot;https://raw.githubusercontent.com/adamatti/LearnHubot/master/docker-compose.yml&quot;&gt;docker-compose&lt;/a&gt; com os containers:&lt;/p&gt;
&lt;/div&gt;
&lt;table class=&quot;tableblock frame-all grid-all spread&quot;&gt;
&lt;colgroup&gt;
&lt;col style=&quot;width: 33.3333%;&quot;&gt;
&lt;col style=&quot;width: 33.3333%;&quot;&gt;
&lt;col style=&quot;width: 33.3334%;&quot;&gt;
&lt;/colgroup&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th class=&quot;tableblock halign-left valign-top&quot;&gt;Nome do container&lt;/th&gt;
&lt;th class=&quot;tableblock halign-left valign-top&quot;&gt;imagem&lt;/th&gt;
&lt;th class=&quot;tableblock halign-left valign-top&quot;&gt;descrição&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td class=&quot;tableblock halign-left valign-top&quot;&gt;&lt;p class=&quot;tableblock&quot;&gt;cache&lt;/p&gt;&lt;/td&gt;
&lt;td class=&quot;tableblock halign-left valign-top&quot;&gt;&lt;p class=&quot;tableblock&quot;&gt;redis&lt;/p&gt;&lt;/td&gt;
&lt;td class=&quot;tableblock halign-left valign-top&quot;&gt;&lt;p class=&quot;tableblock&quot;&gt;cache (usado pelo bot)&lt;/p&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&quot;tableblock halign-left valign-top&quot;&gt;&lt;p class=&quot;tableblock&quot;&gt;db&lt;/p&gt;&lt;/td&gt;
&lt;td class=&quot;tableblock halign-left valign-top&quot;&gt;&lt;p class=&quot;tableblock&quot;&gt;mongo&lt;/p&gt;&lt;/td&gt;
&lt;td class=&quot;tableblock halign-left valign-top&quot;&gt;&lt;p class=&quot;tableblock&quot;&gt;banco (usado pelo rocketchat)&lt;/p&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&quot;tableblock halign-left valign-top&quot;&gt;&lt;p class=&quot;tableblock&quot;&gt;chat&lt;/p&gt;&lt;/td&gt;
&lt;td class=&quot;tableblock halign-left valign-top&quot;&gt;&lt;p class=&quot;tableblock&quot;&gt;rocket.chat&lt;/p&gt;&lt;/td&gt;
&lt;td class=&quot;tableblock halign-left valign-top&quot;&gt;&lt;p class=&quot;tableblock&quot;&gt;instancia do chat&lt;/p&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&quot;tableblock halign-left valign-top&quot;&gt;&lt;p class=&quot;tableblock&quot;&gt;bot&lt;/p&gt;&lt;/td&gt;
&lt;td class=&quot;tableblock halign-left valign-top&quot;&gt;&lt;p class=&quot;tableblock&quot;&gt;node (ver &lt;a href=&quot;https://raw.githubusercontent.com/adamatti/LearnHubot/master/Dockerfile&quot;&gt;Dockerfile&lt;/a&gt;)&lt;/p&gt;&lt;/td&gt;
&lt;td class=&quot;tableblock halign-left valign-top&quot;&gt;&lt;p class=&quot;tableblock&quot;&gt;Usa a imagem base do node, copia o código e baixa as dependencias&lt;/p&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Também no &lt;a href=&quot;https://raw.githubusercontent.com/adamatti/LearnHubot/master/docker-compose.yml&quot;&gt;docker-compose&lt;/a&gt; estão as integrações entre containers, usando variáveis de ambiente.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;sect2&quot;&gt;
&lt;h3 id=&quot;para-rodar-tudo&quot;&gt;Para rodar tudo&lt;/h3&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;O resultado final está disponível &lt;a href=&quot;https://github.com/adamatti/LearnHubot&quot;&gt;no github&lt;/a&gt;. Só precisa:&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;ulist&quot;&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Iniciar os containers: &lt;code&gt;docker-compose up --build -d&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;acessar o rocket.chat: &lt;code&gt;&lt;a href=&quot;http://localhost:80&quot; class=&quot;bare&quot;&gt;http://localhost:80&lt;/a&gt;&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;registre o primeiro usuário. Ele será o admin&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;crie um usuário para o bot, com username/name/pass = bot&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;e agora é só interagir com o bot&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;sect2&quot;&gt;
&lt;h3 id=&quot;próximos-passos&quot;&gt;Próximos passos?&lt;/h3&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Agora é escrever script úteis para ajudar em troubleshoot e tarefas do dia dia.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;E estudar &lt;a href=&quot;https://nodered.org&quot;&gt;node-red&lt;/a&gt; para integrar com outras plataformas.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Dúvidas? Sugestões? Deixe nos comentários.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;</content><author><name></name></author><category term="node" /><category term="chatbot" /><summary type="html">TL/DR : Hubot é legal e bem simples :-) Bem simples o processo de criação de bots usando o hubot seguindo tutorial deles. Requisitos Ter node instalado Docker / Docker Compose (facilita os testes) Passos Instalar o yeoman (gerador de código) e generator-hubot: npm install -g yo generator-hubot ir na pasta desejada, rodar yo nomeDoBot Com isso o yeoman vai gerar os seguintes arquivos (ver resultado no github): .editorconfig Descreve formato dos outros arquivos (ex: identação, charset). Vários editores suportam esse formato (ver a página do editorConfig) .gitignore Descritor de arquivos a não ser incluídos no repositório Procfile Tem o comando que vai ser executado no heroku (se decidir fazer deploy lá) Readme.md Documentação básica. Pode ser removido pasta bin script para rodar o bot external-scripts.json Outros scripts a serem carregados pelo hubot hubot-scripts.json Antes os script do hubot deveriam ser colocados aqui, agora só precisam estar na pasta script package.json Descritor de projeto node (dependências, etc) scripts/example.coffee Exemplo de script para o bot em coffee script Agora é só iniciar o redis (instale ele na máquina local ou docker run redis -p 6379). E com o Redis rodando, executar o bot: bin/hubot.cmd. Com isso já dá para interagir com o bot. Exemplo: digite nomeDoBot help para ver comandos disponíveis. Criando o primeiro script Criei um exemplo de script bem simples e zueiro para mostrar a sintaxe: Gatilho Sintaxe Descrição @nomeDoBot is it weekend? robot.respond(/is it (weekend)\s?\?/i, msg &amp;#8658; { Retorna se é fim de semana lima (em qq parte da frase) robot.hear(/lima/i, res &amp;#8658; { Retorna para o user q mandou o texto uma frase fixa uma música robot.hear(/uma música/i, res &amp;#8658;{ Retorna para a sala uma música aleatória ao entrar na sala robot.enter(res &amp;#8658; { Retorna uma frase fixa ao sair da sala robot.leave(res &amp;#8658; { Retorna uma frase fixa qq texto robot.listen(message &amp;#8658; { Randomicamente 20% das vezes vai retornar uma frase fixa. Para um teste completo Para fazer o bot iteragir com um chat, criei um arquivo docker-compose com os containers: Nome do container imagem descrição cache redis cache (usado pelo bot) db mongo banco (usado pelo rocketchat) chat rocket.chat instancia do chat bot node (ver Dockerfile) Usa a imagem base do node, copia o código e baixa as dependencias Também no docker-compose estão as integrações entre containers, usando variáveis de ambiente. Para rodar tudo O resultado final está disponível no github. Só precisa: Iniciar os containers: docker-compose up --build -d acessar o rocket.chat: http://localhost:80 registre o primeiro usuário. Ele será o admin crie um usuário para o bot, com username/name/pass = bot e agora é só interagir com o bot Próximos passos? Agora é escrever script úteis para ajudar em troubleshoot e tarefas do dia dia. E estudar node-red para integrar com outras plataformas. Dúvidas? Sugestões? Deixe nos comentários.</summary></entry><entry><title type="html">Novo Blog</title><link href="https://adamatti.github.io/blog/blog/ruby/2017/05/19/newBlog.html" rel="alternate" type="text/html" title="Novo Blog" /><published>2017-05-19T03:00:00+00:00</published><updated>2017-05-19T03:00:00+00:00</updated><id>https://adamatti.github.io/blog/blog/ruby/2017/05/19/newBlog</id><content type="html" xml:base="https://adamatti.github.io/blog/blog/ruby/2017/05/19/newBlog.html">&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Buenas&amp;#8230;&amp;#8203; começo aqui minha terceira tentativa de blog :-)&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;sect2&quot;&gt;
&lt;h3 id=&quot;histórico&quot;&gt;Histórico&lt;/h3&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Criei &lt;a href=&quot;http://adamatti.blogspot.com.br&quot;&gt;o primeiro&lt;/a&gt; em 2006&amp;#8230;&amp;#8203; mas tem pouca coisa técnica&amp;#8230;&amp;#8203; foi usado mais como rede social do que blog&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;&lt;a href=&quot;http://adamatti.tumblr.com&quot;&gt;O segundo&lt;/a&gt; foi criado em 2013. Agora mais técnico, mas ainda é mais um wiki pessoal para guardar minhas notas do que um blog. E ninguém usa o tumblr como blog :-P&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;sect2&quot;&gt;
&lt;h3 id=&quot;motivação&quot;&gt;Motivação&lt;/h3&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Curto acompanhar o conteúdo compartilhado por outros, acho que eu posso colaborar um pouco com a comunidade com coisas que eu já sei.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Professores meus de faculdade como o &lt;a href=&quot;https://blog.danielwildt.com&quot;&gt;Daniel Wildt&lt;/a&gt; e o &lt;a href=&quot;https://medium.com/@diogo.lucas&quot;&gt;Diogo Lucas&lt;/a&gt; seguem compartilhando até hoje.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;E é massa para o ego quando um post recebe 30 mil acessos (como o do &lt;a href=&quot;http://marcelo-cure.blogspot.com.br/2016/09/rest-anti-patterns.html&quot;&gt;Marcelo Cure&lt;/a&gt;).&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Outro ponto é quando você presencia a discussão de algum ponto que você já postou, é só apontar as pessoas para o link.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;E por último mas não menos importante, ensinar tbm é uma forma de aprender, de organizar as ideias.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;sect2&quot;&gt;
&lt;h3 id=&quot;ah-mas-pq-em-português&quot;&gt;&quot;Ah, mas pq em português?&quot;&lt;/h3&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Minha meta é só compartilhar e registrar conhecimento. Não estou buscando visibilidade internacional por agora. Já tem muito conteúdo em inglês, mas pouco em português. Acho que eu posso ajudar um pouco nisso.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;sect2&quot;&gt;
&lt;h3 id=&quot;futuro-frequência&quot;&gt;Futuro / frequência&lt;/h3&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;A atividade de postar conteúdo tem que ser prazerosa, então vou fazer enquanto der vontade. Que seja eterno enquanto dure.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Pretendo no mínimo 1 por mês, ideal 1 por semana. Nirvana é talvez um dia escrever um livro como o &lt;a href=&quot;https://github.com/waldemarnt/building-testable-apis-with-nodejs&quot;&gt;Waldermar sobre node&lt;/a&gt; ou como o &lt;a href=&quot;https://github.com/gomex/docker-para-desenvolvedores&quot;&gt;Gomex sobre docker&lt;/a&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Talvez um dia youtube ou podcast, vai saber&amp;#8230;&amp;#8203;&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;sect2&quot;&gt;
&lt;h3 id=&quot;pq-github-io-e-não-wordpress-blogspot-etc&quot;&gt;&quot;Pq github.io e não wordpress / blogspot / etc?&quot;&lt;/h3&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Requisito era escrever os posts em &lt;a href=&quot;http://asciidoctor.org&quot;&gt;asciidoc&lt;/a&gt; (#chupaMarkdown), o mais dev friendly possível. E que não tivesse limitações, me deixasse manipular o html / js / css totalmente.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Como já tinha colocado &lt;a href=&quot;https://github.com/adamatti/adamatti.github.io&quot;&gt;o resume&lt;/a&gt; no github e curtí o resultado, a escolha natural foi o &lt;a href=&quot;https://jekyllrb.com/&quot;&gt;jekyll&lt;/a&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;sect2&quot;&gt;
&lt;h3 id=&quot;jekyll&quot;&gt;Jekyll&lt;/h3&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;O github não aceita qualquer plugin para rodar lá, então com a ajuda do pessoal do &lt;a href=&quot;https://github.com/asciidoctor/jekyll-asciidoc&quot;&gt;jekyll-asciidoc&lt;/a&gt; consegui fazer funcionar &lt;a href=&quot;https://jekyllrb.com/&quot;&gt;jekyll&lt;/a&gt; + &lt;a href=&quot;https://github.com/asciidoctor/jekyll-asciidoc&quot;&gt;jekyll-asciidoc&lt;/a&gt; (&lt;a href=&quot;https://github.com/asciidoctor/jekyll-asciidoc/issues/154&quot;&gt;discussão&lt;/a&gt; e &lt;a href=&quot;http://eshepelyuk.github.io/2014/10/28/automate-github-pages-travisci.html&quot;&gt;passo a passo&lt;/a&gt;).&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Funciona assim: o código jekyll fica no &lt;a href=&quot;https://github.com/adamatti/blog/tree/jekyll&quot;&gt;branch jekyll&lt;/a&gt;, e o &lt;a href=&quot;https://raw.githubusercontent.com/adamatti/blog/jekyll/.travis.yml&quot;&gt;travis&lt;/a&gt; roda &lt;a href=&quot;https://raw.githubusercontent.com/adamatti/blog/jekyll/build.sh&quot;&gt;um script de deploy&lt;/a&gt; que gera a página estática no &lt;a href=&quot;https://github.com/adamatti/blog/tree/gh-pages&quot;&gt;branch gh-pages&lt;/a&gt;. Curtí o resultado.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;sect2&quot;&gt;
&lt;h3 id=&quot;sugestões&quot;&gt;Sugestões&lt;/h3&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Algum assunto que eu saiba que você gostaria de ver aqui? Algo que eu comentei em algum evento / mesa de bar?&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt;
&lt;p&gt;Você tem algum blog técnico que gostaria de compartilhar? Manda aí nos comentários.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;</content><author><name></name></author><category term="ruby" /><category term="jekyll" /><summary type="html">Buenas&amp;#8230;&amp;#8203; começo aqui minha terceira tentativa de blog :-) Histórico Criei o primeiro em 2006&amp;#8230;&amp;#8203; mas tem pouca coisa técnica&amp;#8230;&amp;#8203; foi usado mais como rede social do que blog O segundo foi criado em 2013. Agora mais técnico, mas ainda é mais um wiki pessoal para guardar minhas notas do que um blog. E ninguém usa o tumblr como blog :-P Motivação Curto acompanhar o conteúdo compartilhado por outros, acho que eu posso colaborar um pouco com a comunidade com coisas que eu já sei. Professores meus de faculdade como o Daniel Wildt e o Diogo Lucas seguem compartilhando até hoje. E é massa para o ego quando um post recebe 30 mil acessos (como o do Marcelo Cure). Outro ponto é quando você presencia a discussão de algum ponto que você já postou, é só apontar as pessoas para o link. E por último mas não menos importante, ensinar tbm é uma forma de aprender, de organizar as ideias. &quot;Ah, mas pq em português?&quot; Minha meta é só compartilhar e registrar conhecimento. Não estou buscando visibilidade internacional por agora. Já tem muito conteúdo em inglês, mas pouco em português. Acho que eu posso ajudar um pouco nisso. Futuro / frequência A atividade de postar conteúdo tem que ser prazerosa, então vou fazer enquanto der vontade. Que seja eterno enquanto dure. Pretendo no mínimo 1 por mês, ideal 1 por semana. Nirvana é talvez um dia escrever um livro como o Waldermar sobre node ou como o Gomex sobre docker. Talvez um dia youtube ou podcast, vai saber&amp;#8230;&amp;#8203; &quot;Pq github.io e não wordpress / blogspot / etc?&quot; Requisito era escrever os posts em asciidoc (#chupaMarkdown), o mais dev friendly possível. E que não tivesse limitações, me deixasse manipular o html / js / css totalmente. Como já tinha colocado o resume no github e curtí o resultado, a escolha natural foi o jekyll Jekyll O github não aceita qualquer plugin para rodar lá, então com a ajuda do pessoal do jekyll-asciidoc consegui fazer funcionar jekyll + jekyll-asciidoc (discussão e passo a passo). Funciona assim: o código jekyll fica no branch jekyll, e o travis roda um script de deploy que gera a página estática no branch gh-pages. Curtí o resultado. Sugestões Algum assunto que eu saiba que você gostaria de ver aqui? Algo que eu comentei em algum evento / mesa de bar? Você tem algum blog técnico que gostaria de compartilhar? Manda aí nos comentários.</summary></entry></feed>